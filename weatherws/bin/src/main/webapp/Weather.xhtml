<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jstl/core">

<h:head>
	<title>weather</title>
</h:head>
<h:body>
	<h:form>
		<p:outputLabel for="city" value="City: " />
		<p:selectOneMenu id="city" value="#{weatherMB.city}"
			style="width:150px">
			<p:ajax event="change" listener="#{weatherMB.onCityChange}"
				update="@form" />
			<f:selectItem itemLabel="Select City" itemValue="#{weatherMB.city}"
				noSelectionOption="true" />
			<f:selectItems value="#{weatherMB.cities}" />
		</p:selectOneMenu>
		<p:outputPanel id="selectedPanel">
			<p:outputLabel id="selectedValue" value="#{weatherMB.city}"></p:outputLabel>
			<table border="1">
				<c:forEach items="#{weatherMB.map}" var="entry">
					<tr>
						<td><h:outputText value="#{entry.key}" /></td>
						<td><h:outputText value="#{entry.value}" /></td>
					</tr>
				</c:forEach>
			</table>
		</p:outputPanel>
	</h:form>
</h:body>
</html>